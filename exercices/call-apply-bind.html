<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Call - Apply - Bind</title>
  </head>
  <body>
    <a href="/exercices/">Go back</a>
    <p><em>Abre la consola</em></p>
    <ul>
      <li>
        <button class="cta">Aprender</button>
      </li>
      <li>
        <button class="cta">Aprender Más</button>
      </li>
      <li>
        <button class="cta">Nunca parar de aprender!</button>
      </li>
    </ul>
    <script>
      // Establecer this usando call
      function hello() {
        console.log(`Hello, I´m ${this.name} ${this.lastName}`);
      }

      const person = {
        name: 'Arnold',
        lastName: 'Restrepo'
      };

      hello.call(person);

      function walk(metres, address) {
        let paragraph = `${this.name} walks: ${metres} to ${address}`;
        console.log(paragraph);
      }

      walk.call(person, 400, 'Tv 14 A este #95 sur');

      // Establece this usando apply
      walk.apply(person, [200, 'Los Pinares']);

      /*
        call  = commas
        apply = array
      */

      // Establece this con Bind
      const person2 = { name: 'Ernesto', lastName: 'Macías' };

      const helloPerson2 = hello.bind(person2);
      helloPerson2();

      const walkPerson2 = walk.bind(person2, 800);
      walkPerson2('Los Libertadores');

      const btns = document.getElementsByClassName('cta');

      // No Function - is Node List
      // btns.forEach(button => {
      //   button.onClick = () => alert('Nunca');
      // });
      Array.prototype.forEach.call(btns, button => {
        button.onclick = () => alert('Nunca');
      });
    </script>
  </body>
</html>
